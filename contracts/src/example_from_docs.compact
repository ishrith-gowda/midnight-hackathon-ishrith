pragma language_version 0.17.0;
import CompactStandardLibrary;

enum State { unset, set }

export ledger authority: Bytes<32>;
export ledger value: Uint<64>;
export ledger state: State;
export ledger round: Counter;

constructor(sk: Bytes<32>, v: Uint<64>) {
  authority = publicKey(round, sk);
  value = v;
  state = State.set;
}

export circuit get(): Uint<64> {
  assert(state == State.set, "No value yet");
  return value;
}
